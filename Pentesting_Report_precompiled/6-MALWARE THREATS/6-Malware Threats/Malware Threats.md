N.B. Tutta la guida descrive come installare ed eseguire malware su target di cui abbiamo già ottenuto l'accesso in precedenza.

With the help of a malicious application (malware), an attacker gains access to stored passwords in a computer and is able to read personal documents, delete files, display pictures, or messages on the screen, slow down computers, steal personal information, send spam, and commit fraud. Malware can perform various malicious activities that range from simple email advertising to complex identity theft and password stealing.

<h1>Gain Access to the Target System using Trojans</h1>
<h2>njRAT RAT Trojan</h2>
RATs help an attacker to remotely access the complete GUI and control the victim’s computer without his/her awareness. They can perform screening and camera capture, code execution, keylogging, file access, password sniffing, registry management, and other tasks. The virus infects victims via phishing attacks and drive-by downloads and propagates through infected USB keys or networked drives. It can download and execute additional malware, execute shell commands, read and write registry keys, capture screenshots, log keystrokes, and spy on webcams.


1. Aprire njRAT sulla propria macchina e selezionare la porta su cui mettersi in ascolto.![[Pasted image 20221018124357.png]]
2. Selezionare "Builder" (in basso a sinistra) ed impostare l'IP della macchina compromessa e la porta. Questo processo genererà un file.![[Pasted image 20221018124421.png]]
3. Caricare sul target il file generato e farlo eseguire dalla vittima
4. Una volta che il file sarà in esecuzione sul target, sulla propria macchina in njrAT comparirà una nuova riga con la sessione generata per comunicare con il trojan, nell'immagine tutte le possibili azioni che possono essere compiute. ![[Pasted image 20221018124331.png]]


<h2>Hide a Trojan using SwayzCryptor and Make it Undetectable to Various Anti-Virus Programs</h2>
Se si carica il file generato nel punto precedente su virusTotal (https://www.virustotal.com) questo verrà riconosciuto come file malevolo, per nascondere la firma del file, e quindi renderne più difficile l'identificazione dai vari antivirus fare:

1. Aprire SwayzCryptor.
2. Caricare il file.
3. Cliccare su Encrypt.
4. Si avrà in output il nuovo file con una firma diversa.
Questo procedimento può essere eseguito più volte per lo stesso file

<h2>Create a Trojan Server using Theef RAT Trojan</h2>
Theef is a Remote Access Trojan written in Delphi. It allows remote attackers access to the system via port 9871. Theef is a Windows-based application for both client and server. The Theef server is a virus that you install on a target computer, and the Theef client is what you then use to control the virus.

1. Aprire Remote Access Trojans (RAT) \  THeef \ Server210.exe sul target.
2. Aprire Remote Access Trojans (RAT) \  THeef \ Client210.exe sulla propria macchina.
3. Selezionare l'indirizzo del target e connettersi. ![[Pasted image 20221018141519.png]]
4. Una volta che la connessione è andata a buon fine è permesso eseguire tutte queste azioni. ![[Pasted image 20221018141614.png]]![[Pasted image 20221018141637.png]]

<h1>Infect the Target System using a Virus</h1>

Computer viruses have the potential to wreak havoc on both business and personal computers. The lifetime of a virus depends on its ability to reproduce. Therefore, attackers design every virus code in such a manner that the virus replicates itself n number of times, where n is a number specified by the attacker. Worldwide, most businesses have been infected by a virus at some point. Like a biological virus, a computer virus is contagious and can contaminate other files; however, viruses can only infect outside machines with the assistance of computer users.

Like viruses, computer worms are standalone malicious programs that independently replicate, execute, and spread across network connections, without human intervention. Worms are a subtype of virus. Intruders design most worms to replicate and spread across a network, thus consuming available computing resources and, in turn, causing network servers, web servers, and individual computer systems to become overloaded and stop responding. However, some worms also carry a payload to damage the host system.

<h2>Create a Virus using the JPS Virus Maker Tool and Infect the Target System</h2>
The JPS Virus Maker tool is used to create its own customized virus. This tool has many options for building that can be used to create a virus. Some of the tool’s features are auto-start, shutdown, disable security center, lock mouse and keyboard, destroy protected storage, and terminate windows. An ethical hacker and pen-tester can use the JPS Virus Maker Tool as a proof of concept to audit perimeter security controls in an organization.

1. Aprire JPS Virus Maker
2. Selezionare le funzioni che si desiderano. ![[Pasted image 20221018141940.png]]
3. Altre features sono disponibili cliccando sulla freccia ->. ![[Pasted image 20221018142058.png]]
4. Una volta finito di selezionare cliccare su "Create Virus!"
5. Una volta che il virus sarà stato eseguito sul target farà tutte le funzioni selezionate precedentemente.

<h1>Perform Static Malware Analysis</h1>
Malware such as viruses, Trojans, worms, spyware, and rootkits allow an attacker to breach security defenses and subsequently launch attacks on target systems. Thus, to find and cure the existing infections and thwart future problems, it is necessary to perform malware analysis. Many tools and techniques exist to perform such tasks. Malware analysis provides an in-depth understanding of each individual sample and identifies emerging technology trends from large collections of malware samples without executing them. The samples of malware are mostly compatible with the Windows binary executable.

By performing malware analysis, detailed information regarding the malware can be extracted. This information includes items like the malicious intent of the malware, indicators of compromise, complexity level of the intruder, exploited vulnerability, extent of damage caused by the intrusion, perpetrator accountable for installing the malware, and system vulnerability the malware has exploited. An ethical hacker and pen tester must perform malware analysis to understand the workings of the malware and assess the damage that it may cause to the information system. Malware analysis is an integral part of any penetration testing process.

> Note: It is very dangerous to analyze malware on production devices connected to production networks. Therefore, one should always analyze malware samples in a testing environment on an isolated network.

<h2>Perform Malware Scanning using Hybrid Analysis</h2>
1. Andare su https://www.hybrid-analysis.com .
2. Caricare il file selezionando il tipo di SO.
3. Una volta finita l'analisi si avrà una lista di antivirus ed antimalware che rileverebbero il codice come malevolo e le motivazioni.  ![[Pasted image 20221018142657.png]] ![[Pasted image 20221018142851.png]] 
4. Cliccando su dettagli si ha.  ![[Pasted image 20221018142933.png]]
5. Cliccando su Behaviour si ha il comportamento del codice. ![[Pasted image 20221018143013.png]]
