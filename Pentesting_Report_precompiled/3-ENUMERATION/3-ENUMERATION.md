# Enumeration
...
## FTP (port 21)
FTP uses port 21 (TCP). To check whether this port is opened, we can run `nmap -p 21 [Target IP address]`.

Then, we can connect to it using `ftp [Target IP address]` and it require username and password to login.

Very often, the default credentials of FTP are:
- Username: anonymous
- Password: anonymous.

Otherwise, a bruteforce approach is needed.

When we are inside an FTP server, we can see which commands can be used by typing `help`.

## SMTP (port 25)
SMTP uses mail exchange (MX) servers to direct mail via DNS. It runs on port 25 (TCP).

We can use Nmap NSE scripts to enumerate the SMTP service:
- Displaying a list of all the possible mail users on the target machine: `nmap -p 25 --script=smtp-enum-users [Target IP Address]`
- Displaying a list of open SMTP relays on the target machine: `nmap -p 25 --script=smtp-open-relay [Target IP Address]`

- List of all the SMTP commands available in the Nmap directory appears: `nmap -p 25 --script=smtp-commands [Target IP Address]`

## DNS (port 53)
DNS uses port 53 (UDP). To check whether this port is opened, we can run `nmap -sU -p 53 [Target IP address]`.

We are interesting in the "Zone Transfer" mode enabled (AXFR), i.e., the process of replicating DNS records across DNS servers (from the primary DNS server to a secondary DNS server).

AXFR offers no authentication, so any client can ask a DNS server for a copy of the entire zone. This means that unless some kind of protection is introduced, an attacker can get a list of all hosts for a domain, which gives them a lot of potential attack vectors.

### DNSRecon
It is used to obtain the internal records of the target DNS server if the DNS zone is not properly configured. The enumerated zone information can assist us in building a host network map.

ðŸ”¥Â [dnsrecon.py](https://github.com/darkoperator/dnsrecon)

`python3 dnsrecon.py -d [Target domain] -z`

`-d` specifies the target domain and `-z` specifies that the DNSSEC zone walk be performed with standard enumeration.

### Nmap
- It displays a list of all the available DNS services on the target host along with their associated ports: `nmap --script=broadcast-dns-service-discovery [Target Domain]`

- It displays a list of all the subdomains associated with the target host along with their IP addresses: `nmap -T4 -p 53 --script dns-brute [Target Domain]`

- It displays various common service (SRV) records for a given domain name: `nmap --script dns-srv-enum --script-args "dns-srv-enum.domain='[Target Domain]'"`

...
